(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{193:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),l=t(66),o=t.n(l),i=(t(74),t(1)),u=t(6),s=t(3),c=t(2),h=t(4),p=(t(27),t(9)),f=t(68),d=t.n(f),m="piece";var v=function(e){function n(){return Object(i.a)(this,n),Object(s.a)(this,Object(c.a)(n).apply(this,arguments))}return Object(h.a)(n,e),Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this,n=new Image(46,46);n.src=this.props.url,n.onload=function(){return e.props.connectDragPreview(n)}}},{key:"render",value:function(){var e=this.props.url,n=this.props,t=n.connectDragSource,a=n.isDragging;return t(r.a.createElement("div",{className:"piece_container"},r.a.createElement("img",{src:e,alt:"",className:"react_piece",style:{opacity:1,cursor:a?"grabbing":"grab"}})))}}]),n}(r.a.Component),b=Object(p.DragSource)(m,{beginDrag:function(e){return{id:e.id}},endDrag:function(e,n,t){if(n.didDrop()){var a=n.getItem();return e.handle_drag_end(a.id)}}},function(e,n){return{connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:n.isDragging()}})(v);var g=function(e){function n(){return Object(i.a)(this,n),Object(s.a)(this,Object(c.a)(n).apply(this,arguments))}return Object(h.a)(n,e),Object(u.a)(n,[{key:"render",value:function(){var e=this.props.style,n=this.props.class_name;return(0,this.props.connectDropTarget)(r.a.createElement("div",{className:n,style:e}," "))}}]),n}(r.a.Component),y=Object(p.DropTarget)(m,{drop:function(e){return e.handle_drop()}},function(e,n){return{connectDropTarget:e.dropTarget(),isOver:n.isOver()}})(g),k=t(26),w={Pawn:1,Knight:3,Bishop:3.3,Rook:5,Queen:9.5,King:0},_=1e4,O=9e3,j=function e(n,t,a,r,l,o){Object(i.a)(this,e),this.player=n,this.squares=t,this.king_locations=a,this.castle_state=r,this.material_balance=l,this.en_passant_square=o},S=function e(n,t,a,r,l,o){Object(i.a)(this,e),this.start=n,this.end=t,this.en_passant_capture=a,this.rook_start=r,this.rook_end=l,this.promotion_piece=o};function E(e,n){var t=n.start,a=n.end,r=e.player,l=e.squares.slice(),o=JSON.parse(JSON.stringify(l[t])),i=e.king_locations.slice(),u=e.castle_state.slice(),s=e.material_balance,c=null;if(null!==n.en_passant_capture&&(l[n.en_passant_capture]=null),"Pawn"===o.name&&20===Math.abs(t-a)&&(c=t+(a-t)/2),null!==n.rook_start){var h=JSON.parse(JSON.stringify(l[n.rook_start]));l[n.rook_start]=null,l[n.rook_end]=h,h.has_moved=!0}return"King"===o.name&&("white"===o.player?(i[0]=a,u[0]=0,u[1]=0):(i[1]=a,u[2]=0,u[3]=0)),"Rook"!==o.name||o.has_moved||(98===t?u[0]=0:91===t?u[1]=0:28===t?u[2]=0:21===t&&(u[3]=0)),null!==l[a]&&"Rook"===l[a].name&&(98===a?u[0]=0:91===a?u[1]=0:28===a?u[2]=0:21===a&&(u[3]=0)),null!==s&&null!==l[a]&&("white"===e.player?s+=w[l[a].name]:s-=w[l[a].name]),null!==n.promotion_piece&&(s="white"===(o=n.promotion_piece).player?s+w[o.name]-1:s-w[o.name]+1),l[t]=null,l[a]=o,o.has_moved=!0,new j(r="white"===r?"black":"white",l,i,u,s,c)}function C(e,n,t,a,r,l,o,i,u){if(0===n)return{value:e.material_balance,move:i};var s=P(e);if(0===s.length)return"white"===e.player?{value:-O,move:i}:{value:O,move:i};if(performance.now()-l>o)return{value:u,move:i};if("white"===e.player){for(var c=-_,h=r,p=0;p<s.length;p++){var f=s[p],d=E(e,f);if((c=Math.max(c,C(d,n-1,t,a,f,l,o,h,c).value))>t&&(t=c,h=f),t>=a)break}return{value:c,move:h}}for(var m=_,v=r,b=0;b<s.length;b++){var g=s[b],y=E(e,g);if((m=Math.min(m,C(y,n-1,t,a,g,l,o,v,m).value))<a&&(a=m,v=g),t>=a)break}return{value:m,move:v}}var N={Pawn:1,Knight:3,Bishop:3.3,Rook:5,Queen:9.5,King:0};function q(e){if(0===e.length)return"FEN Error";for(var n,t=Array(64).fill(null),a=[0,0,0,0],r=null,l=0,o=0,i=0,u=0,s=0,c=0;l<=7&&c<e.length;){switch(u=1,e[c]){case"p":i=new ae("black");break;case"r":i=new re("black");break;case"n":i=new le("black");break;case"b":i=new oe("black");break;case"k":i=new ue("black");break;case"q":i=new ie("black");break;case"P":i=new ae("white");break;case"R":i=new re("white");break;case"N":i=new le("white");break;case"B":i=new oe("white");break;case"K":i=new ue("white");break;case"Q":i=new ie("white");break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":i=null,u=e[c].charCodeAt()-"0".charCodeAt();break;case"/":case" ":l+=1,o=0,c+=1;continue;default:return"FEN error"}for(s=0;s<u;s++)t[8*l+o]=i,o++;c++}for(n="w"===e[c]?"white":"black",c+=2,s=0;s<4&&" "!==e[c];s++){switch(e[c]){case"K":a[0]=1;break;case"Q":a[1]=1;break;case"k":a[2]=1;break;case"q":a[3]=1}c++}"-"!==e[++c]&&(o=e[c].charCodeAt()-"a".charCodeAt(),r=K(8*(7-(l=e[c+1].charCodeAt()-"1".charCodeAt()))+o));var h=function(e){for(var n=null,t=null,a=0;a<e.length;a++){var r=e[a];null!==r&&"boundary"!==r&&"King"===r.name&&("white"===r.player?n=a:t=a)}return[n,t]}(t=D(t)),p=function(e){for(var n=0,t=0;t<e.length;t++)"boundary"!==e[t]&&null!==e[t]&&("white"===e[t].player?n+=N[e[t].name]:n-=N[e[t].name]);return n}(t),f=new j(n,t,h,a,p,r);return function(e){for(var n=e.squares,t=0;t<n.length;t++)if("boundary"!==n[t]&&null!==n[t]){var a=n[t];"Pawn"===a.name&&("white"===a.player?t<81&&(a.has_moved=!0):t>38&&(a.has_moved=!0))}}(f),f}function D(e){for(var n=Array(120).fill(null),t=0,a=0,r=0;r<12;r++)for(var l=0;l<10;l++)a=10*r+l,0===l||9===l||0===r||1===r||10===r||11===r?n[a]="boundary":(n[a]=e[t],t+=1);return n}function K(e){for(var n=0,t=0;t<12;t++)for(var a=0;a<10;a++){if(0!==a&&9!==a&&0!==t&&1!==t&&10!==t&&11!==t){if(e===n)return 10*t+a;n+=1}}}function P(e){var n=e.squares,t=e.player,a="white"===t?e.king_locations[0]:e.king_locations[1],r=I(n,a,t),l=null,o=e.castle_state,i=e.en_passant_square;null!==i&&(l=function(e,n,t,a){var r=Y(1,n),l=e.slice();return l[r]=null,I(l,t,a)}(n,i,a,t));var u=function(e,n,t){for(var a=[],r=[],l=ne(1,Y(1,n,t),t),o=ee(1,Y(1,n,t),t),i=[l,o],u=$(n,t),s=[[1,1],[-1,1],[1,-1],[-1,-1]],c=[[0,1],[0,-1],[-1,0],[1,0]],h=0;h<s.length;h++){var p=F(e,s[h],n,t,["Queen","Bishop"]),f=Object(k.a)(p,2),d=f[0],m=f[1];null!==m&&(r=r.concat(d),a.push(m))}for(h=0;h<c.length;h++){var v=F(e,c[h],n,t,["Queen","Rook"]),b=Object(k.a)(v,2),d=b[0],m=b[1];null!==m&&(r=r.concat(d),a.push(m))}for(h=0;h<u.length;h++){var g=e[u[h]];"boundary"!==g&&null!==g&&g.player!==t&&"Knight"===g.name&&(r=r.concat([u[h]]),a.push(g))}for(h=0;h<i.length;h++){var y=e[i[h]];"boundary"!==y&&null!==y&&y.player!==t&&"Pawn"===y.name&&(r=r.concat([i[h]]),a.push(y))}return[a,r]}(n,a,t),s=Object(k.a)(u,2),c=s[0],h=s[1],p=c.length>0;if(c.length>1)return J(n,a,t,o);for(var f=[],d=0;d<120;d++)null!==n[d]&&"boundary"!==n[d]&&n[d].player===t&&("Pawn"===n[d].name?f=f.concat(R(n,d,t,r,i,l)):"Knight"===n[d].name?f=f.concat(Q(n,d,t,r)):"Bishop"===n[d].name?f=f.concat(B(n,d,t,r)):"Rook"===n[d].name?f=f.concat(A(n,d,t,r)):"Queen"===n[d].name?f=(f=f.concat(A(n,d,t,r))).concat(B(n,d,t,r)):"King"===n[d].name&&(f=f.concat(J(n,d,t,o,p))));return c.length>0&&(f=function(e,n,t){for(var a=e.length-1;a>=0;a--){var r=e[a];t.includes(r.end)||t.includes(r.en_passant_capture)||r.start===n||e.splice(a,1)}return e}(f,a,h)),f}function R(e,n,t,a,r,l){var o=[],i=e[n],u=Y(1,n,t),s=Y(2,n,t),c=ee(1,n,t),h=ne(1,n,t),p=ee(1,Y(1,n,t),t),f=ne(1,Y(1,n,t),t);return i.has_moved||null!==e[s]||null!==e[u]||(o=o.concat(G(i,n,s,a,[0,1],!1,null,null))),null===e[u]&&(o=o.concat(G(i,n,u,a,[0,1],!1,null,null))),null!==e[p]&&"boundary"!==e[p]&&e[p].player!==t&&(o=o.concat(G(i,n,p,a,[-1,1],!1,null,null))),null!==e[f]&&"boundary"!==e[f]&&e[f].player!==t&&(o=o.concat(G(i,n,f,a,[1,1],!1,null,null))),f===r&&(o=o.concat(G(i,n,f,a,[1,1],!0,h,l))),p===r&&(o=o.concat(G(i,n,p,a,[-1,1],!0,c,l))),o}function Q(e,n,t,a){var r=[];if(n in a)return r;for(var l=$(n,t),o=0;o<l.length;o++)null===e[l[o]]&&"boundary"!==e[l[o]]?r.push(H(n,l[o])):e[l[o]].player!==t&&"boundary"!==e[l[o]]&&r.push(H(n,l[o]));return r}function B(e,n,t,a){for(var r=[],l=e[n],o=null,i=null,u=[[1,1],[-1,1],[1,-1],[-1,-1]],s=0;s<u.length;s++)n in a?(i=[-1*(o=a[n])[0],-1*o[1]],u[s].toString()!==o.toString()&&u[s].toString()!==i.toString()||(r=r.concat(W(e,u[s],n,t,l)))):r=r.concat(W(e,u[s],n,t,l));return r}function A(e,n,t,a){for(var r=[],l=e[n],o=null,i=null,u=[[0,1],[0,-1],[-1,0],[1,0]],s=0;s<u.length;s++)n in a?(i=[-1*(o=a[n])[0],-1*o[1]],u[s].toString()!==o.toString()&&u[s].toString()!==i.toString()||(r=r.concat(W(e,u[s],n,t,l)))):r=r.concat(W(e,u[s],n,t,l));return r}function J(e,n,t,a,r){var l=[],o=e.slice();o[n]=null;for(var i=z(n,t),u=0;u<i.length;u++)null===e[i[u]]?x(o,i[u],t)[0]||l.push(H(n,i[u])):"boundary"===e[i[u]]||e[i[u]].player===t||x(o,i[u],t)[0]||l.push(H(n,i[u]));return r||(1===a[0]&&null===e[96]&&null===e[97]&&(x(e,96,t)[0]||x(e,97,t)[0]||l.push(U(95,97,98,96))),1===a[1]&&null===e[94]&&null===e[93]&&null===e[92]&&(x(e,94,t)[0]||x(e,93,t)[0]||l.push(U(95,93,91,94))),1===a[2]&&null===e[26]&&null===e[27]&&(x(e,26,t)[0]||x(e,27,t)[0]||l.push(U(25,27,28,26))),1===a[3]&&null===e[24]&&null===e[23]&&null===e[22]&&(x(e,24,t)[0]||x(e,23,t)[0]||l.push(U(25,23,21,24)))),l}function M(e,n,t,a,r){for(var l=X(n,t,a),o=null;null===e[l];)l=X(n,l,a);var i=e[l];if("boundary"!==i&&i.player!==a)for(var u=0;u<r.length;u++)r[u]===i.name&&(o=[l,n]);return o}function F(e,n,t,a,r){for(var l=X(n,t,a),o=[l];null===e[l];)l=X(n,l,a),o.push(l);var i=e[l];if("boundary"!==i&&i.player!==a)for(var u=0;u<r.length;u++)if(r[u]===i.name)return o.push(l),[o,i];return[null,null]}function x(e,n,t){for(var a=!1,r={},l=null,o=[ne(1,Y(1,n,t),t),ee(1,Y(1,n,t),t)],i=$(n,t),u=z(n,t),s=[[1,1],[-1,1],[1,-1],[-1,-1]],c=[[0,1],[0,-1],[-1,0],[1,0]],h=0;h<s.length;h++)null!==(l=M(e,s[h],n,t,["Queen","Bishop"]))&&(a=!0,r[l[0]]=l[1]);for(h=0;h<c.length;h++)null!==(l=M(e,c[h],n,t,["Queen","Rook"]))&&(a=!0,r[l[0]]=l[1]);for(h=0;h<i.length;h++){var p=e[i[h]];"boundary"!==p&&null!==p&&p.player!==t&&"Knight"===p.name&&(a=!0,r[i[h]]="knight_attack")}for(h=0;h<o.length;h++){var f=e[o[h]];"boundary"!==f&&null!==f&&f.player!==t&&"Pawn"===f.name&&(a=!0,r[o[h]]="pawn_attack")}for(h=0;h<u.length;h++){var d=e[u[h]];"boundary"!==d&&null!==d&&d.player!==t&&"King"===d.name&&(a=!0)}return[a,r]}function I(e,n,t){for(var a={},r=null,l=[[0,1],[0,-1],[-1,0],[1,0],[1,1],[-1,1],[1,-1],[-1,-1]],o=null,i=0;i<l.length;i++)null!==(r=0===(o=l[i])[0]||0===o[1]?T(e,o,n,t,["Queen","Rook"]):T(e,o,n,t,["Queen","Bishop"]))&&(a[r[0]]=r[1]);return a}function T(e,n,t,a,r){for(var l=X(n,t,a),o=null;null===e[l];)l=X(n,l,a);if("boundary"!==e[l]&&e[l].player===a){for(o=l,l=X(n,l,a);null===e[l];)l=X(n,l,a);if("boundary"!==e[l]&&e[l].player!==a)for(var i=0;i<r.length;i++)if(e[l].name===r[i])return[o,n]}return null}function G(e,n,t,a,r,l,o,i){var u=[],s=null,c=null;if(n in a)c=[-1*(s=a[n])[0],-1*s[1]],r.toString()!==s.toString()&&r.toString()!==c.toString()||(l?u.push(V(n,t,o)):u.push(H(n,t)));else if(l)n in i?(c=[-1*(s=i[n])[0],-1*s[1]],r.toString()!==s.toString()&&r.toString()!==c.toString()||u.push(V(n,t,o))):u.push(V(n,t,o));else if(t>=91||t<=28)for(var h=[new le(e.player),new oe(e.player),new re(e.player),new ie(e.player)],p=0;p<h.length;p++)u.push(L(h[p],n,t));else u.push(H(n,t));return u}function W(e,n,t,a,r){for(var l=[],o=X(n,t,a);null===e[o];)l.push(H(t,o)),o=X(n,o,a);return"boundary"!==e[o]&&e[o].player!==a&&l.push(H(t,o)),l}function $(e,n){return[ne(1,Y(2,e,n),n),ee(1,Y(2,e,n),n),ne(1,Z(2,e,n),n),ee(1,Z(2,e,n),n),ne(2,Y(1,e,n),n),ne(2,Z(1,e,n),n),ee(2,Y(1,e,n),n),ee(2,Z(1,e,n),n)]}function z(e,n){return[Y(1,e,n),ne(1,Y(1,e,n),n),ee(1,Y(1,e,n),n),ee(1,e,n),ne(1,e,n),ne(1,Z(1,e,n),n),ee(1,Z(1,e,n),n),Z(1,e,n)]}function H(e,n){return new S(e,n,null,null,null,null)}function L(e,n,t){return new S(n,t,null,null,null,e)}function U(e,n,t,a){return new S(e,n,null,t,a,null)}function V(e,n,t){return new S(e,n,t,null,null,null)}function X(e,n,t){var a=e[0],r=e[1],l=ne(1,Y(1,n,t),t),o=ee(1,Y(1,n,t),t),i=ne(1,Z(1,n,t),t),u=ee(1,Z(1,n,t),t),s=Y(1,n,t),c=Z(1,n,t),h=ne(1,n,t),p=ee(1,n,t);return 0===a&&1===r?s:-1===a&&1===r?o:1===a&&1===r?l:1===a&&0===r?h:-1===a&&0===r?p:1===a&&-1===r?i:-1===a&&-1===r?u:0===a&&-1===r?c:void 0}function Y(e,n,t){return"white"===t?n-10*e:n+10*e}function Z(e,n,t){return"white"===t?n+10*e:n-10*e}function ee(e,n,t){return"white"===t?n-e:n+e}function ne(e,n,t){return"white"===t?n+e:n-e}var te=function e(n,t,a){Object(i.a)(this,e),this.player=n,this.style={backgroundImage:"url('"+t+"')"},this.name=a,this.url=t,this.has_moved=!1},ae=function(e){function n(e){var t;Object(i.a)(this,n);var a="https://upload.wikimedia.org/wikipedia/commons/4/45/Chess_plt45.svg";return"black"===e&&(a="https://upload.wikimedia.org/wikipedia/commons/c/c7/Chess_pdt45.svg"),(t=Object(s.a)(this,Object(c.a)(n).call(this,e,a,"Pawn"))).just_moved_two=!1,t}return Object(h.a)(n,e),n}(te),re=function(e){function n(e){Object(i.a)(this,n);var t="https://upload.wikimedia.org/wikipedia/commons/7/72/Chess_rlt45.svg";return"black"===e&&(t="https://upload.wikimedia.org/wikipedia/commons/f/ff/Chess_rdt45.svg"),Object(s.a)(this,Object(c.a)(n).call(this,e,t,"Rook"))}return Object(h.a)(n,e),n}(te),le=function(e){function n(e){Object(i.a)(this,n);var t="https://upload.wikimedia.org/wikipedia/commons/7/70/Chess_nlt45.svg";return"black"===e&&(t="https://upload.wikimedia.org/wikipedia/commons/e/ef/Chess_ndt45.svg"),Object(s.a)(this,Object(c.a)(n).call(this,e,t,"Knight"))}return Object(h.a)(n,e),n}(te),oe=function(e){function n(e){Object(i.a)(this,n);var t="https://upload.wikimedia.org/wikipedia/commons/b/b1/Chess_blt45.svg";return"black"===e&&(t="https://upload.wikimedia.org/wikipedia/commons/9/98/Chess_bdt45.svg"),Object(s.a)(this,Object(c.a)(n).call(this,e,t,"Bishop"))}return Object(h.a)(n,e),n}(te),ie=function(e){function n(e){Object(i.a)(this,n);var t="https://upload.wikimedia.org/wikipedia/commons/1/15/Chess_qlt45.svg";return"black"===e&&(t="https://upload.wikimedia.org/wikipedia/commons/4/47/Chess_qdt45.svg"),Object(s.a)(this,Object(c.a)(n).call(this,e,t,"Queen"))}return Object(h.a)(n,e),n}(te),ue=function(e){function n(e){Object(i.a)(this,n);var t="https://upload.wikimedia.org/wikipedia/commons/4/42/Chess_klt45.svg";return"black"===e&&(t="https://upload.wikimedia.org/wikipedia/commons/f/f0/Chess_kdt45.svg"),Object(s.a)(this,Object(c.a)(n).call(this,e,t,"King"))}return Object(h.a)(n,e),n}(te);function se(){return D(function(){for(var e=Array(64).fill(null),n=0;n<8;n++)e[n+8]=new ae("black"),e[n+48]=new ae("white");for(var t="black",a=0;a<2;a++)1===a&&(t="white"),e[56*a]=new re(t),e[56*a+7]=new re(t),e[56*a+1]=new le(t),e[56*a+6]=new le(t),e[56*a+2]=new oe(t),e[56*a+5]=new oe(t),e[56*a+3]=new ie(t),e[56*a+4]=new ue(t);return e}())}var ce=function(e){function n(e){var t;return Object(i.a)(this,n),(t=Object(s.a)(this,Object(c.a)(n).call(this,e))).state={history:[{position:new j("white",se(),[95,25],[1,1,1,1],0)}],drag_end:null,promotion:{class:"hidden",start:null,end:null,player:null},status:null},t}return Object(h.a)(n,e),Object(u.a)(n,[{key:"reset",value:function(){this.setState({history:[{position:new j("white",se(),[95,25],[1,1,1,1],0)}],drag_end:null,promotion:{class:"hidden",start:null,end:null,player:null},status:null})}},{key:"back",value:function(){var e=this.state.history.slice();1!==e.length&&(e.pop(),this.setState({history:e,status:null}))}},{key:"setup_fen",value:function(e){var n=q(e);"FEN Error"!==n?this.setState({history:[{position:n}],drag_end:null,promotion:{class:"hidden",start:null,end:null,player:null},status:null}):alert("FEN ERROR")}},{key:"engine_move",value:function(){var e=this.state.history.slice(),n=e[e.length-1].position,t=C(n,10,-1e4,1e4,null,performance.now(),1e3).move;if(null!==t){var a=E(n,t);this.setState({history:e.concat([{position:a}])})}else this.setState({status:"Game Over"})}},{key:"handle_drop",value:function(e){this.setState({drag_end:e})}},{key:"handle_drag_end",value:function(e){var n=this.state.history.slice(),t=n[n.length-1].position,a=K(e),r=K(this.state.drag_end),l=t.squares[a];if((r<=28||r>=91)&&"Pawn"===l.name){var o={class:"promotion_container",start:a,end:r,player:t.player};this.setState({promotion:o})}else this.change_states(n,t,a,r,null)}},{key:"handle_promotion",value:function(e){var n=this.state.history.slice(),t=n[n.length-1].position,a=this.state.promotion,r=a.start,l=a.end;this.change_states(n,t,r,l,e),this.setState({promotion:{class:"hidden",start:null,end:null,player:null}})}},{key:"change_states",value:function(e,n,t,a,r){var l=P(n),o=function(e,n,t,a){var r=t.squares,l=t.squares[e],o=null,i=null,u=null;return"Pawn"===l.name&&(9===Math.abs(e-n)&&null===r[n]?o="white"===t.player?e+1:e-1:11===Math.abs(e-n)&&null===r[n]&&(o="white"===t.player?e-1:e+1)),"King"===l.name&&(n-e===2?(i=n+1,u=e+1):e-n===2&&(i=n-2,u=e-1)),new S(e,n,o,i,u,a)}(t,a,n,r);if(function(e,n){for(var t=!1,a=0;a<n.length;a++)JSON.stringify(e)===JSON.stringify(n[a])&&(t=!0);return t}(o,l)){var i=E(n,o);0===P(i).length&&this.setState({status:"Game Over"}),this.setState({history:e.concat([{position:i}]),drag_end:null})}}},{key:"render",value:function(){var e=this,n=this.state.history,t=n[n.length-1].position,a=function(e){for(var n=Array(64).fill(null),t=0,a=0,r=0;r<12;r++)for(var l=0;l<10;l++)a=10*r+l,0===l||9===l||0===r||1===r||10===r||11===r||(n[t]=e[a],t+=1);return n}(t.squares),l=t.player,o=this.state.promotion.class,i=this.state.status;return r.a.createElement("div",{className:"game_container"},r.a.createElement("div",{className:"status"}," ",i," "),r.a.createElement(fe,{back:function(){return e.back()},reset:function(){return e.reset()},engine_move:function(){return e.engine_move()}}),r.a.createElement("div",{className:"board_container"},r.a.createElement(he,{squares:a,onDrop:function(n){return e.drop(n)},player:l,handle_drop:function(n){return e.handle_drop(n)},handle_drag_end:function(n){return e.handle_drag_end(n)}})),r.a.createElement(de,{setup_fen:function(n){return e.setup_fen(n)}}),r.a.createElement(me,{className:o,player:l,handle_promotion:function(n){return e.handle_promotion(n)}}))}}]),n}(a.Component),he=function(e){function n(){return Object(i.a)(this,n),Object(s.a)(this,Object(c.a)(n).apply(this,arguments))}return Object(h.a)(n,e),Object(u.a)(n,[{key:"renderSquares",value:function(){for(var e=this,n=[],t=!1,a=0;a<8;a++){t=!t;for(var l=[],o=function(){var n=8*a+i,o=r.a.createElement(pe,{value:e.props.squares[n],key:n,color:t,player:e.props.player,handle_drop:function(){return e.props.handle_drop(n)},handle_drag_end:function(n){return e.props.handle_drag_end(n)},id:n});l.push(o),t=!t},i=0;i<8;i++)o();l=r.a.createElement("div",{className:"board_row",key:a}," ",l," "),n.push(l)}return n}},{key:"render",value:function(){return r.a.createElement("div",null,this.renderSquares())}}]),n}(r.a.Component),pe=function(e){function n(){return Object(i.a)(this,n),Object(s.a)(this,Object(c.a)(n).apply(this,arguments))}return Object(h.a)(n,e),Object(u.a)(n,[{key:"renderSquare",value:function(e){var n=this,t="dark square",a=null,l=null,o=null;return e&&(t="light square"),this.props.value&&(a=this.props.value.style,l=this.props.value.url,o=this.props.value.player),this.props.player===o?r.a.createElement("div",{className:t},r.a.createElement(b,{url:l,id:this.props.id,handle_drag_end:function(e){return n.props.handle_drag_end(e)}})):r.a.createElement(y,{class_name:t,style:a,handle_drop:function(){return n.props.handle_drop()}})}},{key:"render",value:function(){var e=this.props.color;return r.a.createElement(r.a.Fragment,null,this.renderSquare(e))}}]),n}(r.a.Component);function fe(e){return r.a.createElement("div",{className:"button_container"},r.a.createElement("button",{className:"reset_button",onClick:function(){return e.reset()}}," Reset"),r.a.createElement("button",{className:"back_button",onClick:function(){return e.back()}}," Back"),r.a.createElement("button",{className:"engine_button",onClick:function(){return e.engine_move()}}," Engine Move"))}var de=function(e){function n(e){var t;return Object(i.a)(this,n),(t=Object(s.a)(this,Object(c.a)(n).call(this,e))).state={value:""},t}return Object(h.a)(n,e),Object(u.a)(n,[{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"submit",value:function(e){e.preventDefault(),this.props.setup_fen(this.state.value)}},{key:"render",value:function(){var e=this;return r.a.createElement("form",{onSubmit:function(n){return e.submit(n)},className:"fen_input"},r.a.createElement("label",null,"FEN String: \xa0",r.a.createElement("input",{type:"text",className:"input_box",value:this.state.value,onChange:function(n){return e.handleChange(n)}})),r.a.createElement("input",{type:"submit",className:"input_button",value:"Set Position"}))}}]),n}(r.a.Component),me=function(e){function n(){return Object(i.a)(this,n),Object(s.a)(this,Object(c.a)(n).apply(this,arguments))}return Object(h.a)(n,e),Object(u.a)(n,[{key:"render",value:function(){var e=this,n=new le(this.props.player),t=new oe(this.props.player),a=new re(this.props.player),l=new ie(this.props.player);return r.a.createElement("div",{className:this.props.className},r.a.createElement("div",{className:"promotion"},r.a.createElement("button",{className:"promotion_button",style:n.style,onClick:function(){return e.props.handle_promotion(n)}}),r.a.createElement("button",{className:"promotion_button",style:t.style,onClick:function(){return e.props.handle_promotion(t)}}),r.a.createElement("button",{className:"promotion_button",style:a.style,onClick:function(){return e.props.handle_promotion(a)}}),r.a.createElement("button",{className:"promotion_button",style:l.style,onClick:function(){return e.props.handle_promotion(l)}})))}}]),n}(r.a.Component),ve=Object(p.DragDropContext)(d.a)(ce);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(ve,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},27:function(e,n,t){},69:function(e,n,t){e.exports=t(193)},74:function(e,n,t){}},[[69,2,1]]]);
//# sourceMappingURL=main.97efcfcf.chunk.js.map